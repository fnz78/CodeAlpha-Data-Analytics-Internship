import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

plt.rcParams["figure.figsize"] = (8,5)
sns.set_style("whitegrid")

df = pd.read_csv("cleaned_books_data.csv")

df.head()

df.info()

sns.histplot(df["Price"], bins=8)
plt.title("Distribution of Book Prices")
plt.xlabel("Price (£)")
plt.ylabel("Number of Books")
plt.show()

sns.countplot(x="Rating", data=df)
plt.title("Book Rating Distribution")
plt.xlabel("Rating")
plt.ylabel("Count")
plt.show()

sns.boxplot(x="Rating", y="Price", data=df)
plt.title("Price Variation by Rating")
plt.show()
avg_price = df.groupby("Rating")["Price"].mean()

avg_price.plot(kind="bar")
plt.title("Average Price by Rating")
plt.xlabel("Rating")
plt.ylabel("Average Price (£)")
plt.show()


top_expensive = df.sort_values(by="Price", ascending=False).head(5)

sns.barplot(x="Price", y="Title", data=top_expensive)
plt.title("Top 5 Most Expensive Books")
plt.show()

sns.heatmap(df.corr(numeric_only=True), annot=True)
plt.title("Correlation Matrix")
plt.show()
